{namespace mask=MASK\Mask\ViewHelpers}
{namespace core = TYPO3\CMS\Core\ViewHelpers}
<li data-type="{mask:formType(elementKey:'{elementKey}', fieldKey:'{field.key}', type: '{field.inlineParent}')}" class="id_{mask:formType(elementKey:'{storage.key}', fieldKey:'{field.key}', type: '{field.inlineParent}')} tx_mask_btn">
	<div class="tx_mask_btn_row">
		<div class="tx_mask_btn_img">
			<core:icon identifier="mask-fieldtype-{mask:formType(elementKey:'{elementKey}', fieldKey:'{field.key}', type: '{field.inlineParent}')}" size="default" />
		</div>
		<div class="tx_mask_btn_text">
			<span class="id_typetext"><f:translate key="tx_mask.field.{mask:formType(elementKey:'{storage.key}', fieldKey:'{field.key}', type: '{field.inlineParent}')}" /></span>
			<span class="id_labeltext" title="{field.label}">
				<f:format.crop maxCharacters="20" append="..."><mask:translateLabel key="{field.label}" /></f:format.crop>
			</span>
			<span class="id_keytext" title="{field.key}">
				<f:format.crop maxCharacters="20" append="...">{field.key}</f:format.crop>
			</span>
		</div>
		<div class="tx_mask_btn_actions">
			<span class="id_add" title="{f:translate(key:'tx_mask.field.titleAdd')}"><core:icon identifier="actions-edit-add" size="default" /></span>
			<span class="id_delete" title="{f:translate(key:'tx_mask.field.titleDelete')}"><core:icon identifier="actions-edit-delete" size="small" /></span>
			<span class="id_move" title="{f:translate(key:'tx_mask.field.titleMove')}"><core:icon identifier="actions-move-move" size="small"/></span>
		</div>
	</div>
<f:if condition="{mask:formType(elementKey:'{elementKey}', fieldKey:'{field.key}', type: '{field.inlineParent}')} == 'Inline'">
	<div class="tx_mask_btn_caption">
		<ul class="dragtarget inline-container">
			<f:for each="{field.inlineFields}" as="inlineField" key="inlineKey">
				<f:render partial="Forms/General/Inline" arguments="{elementKey: field.key, field: inlineField, storage: storage}" />
			</f:for>
		</ul>
	</div>
</f:if>
</li>
